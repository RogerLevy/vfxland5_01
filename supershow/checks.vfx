fast[

crucial test: validate-class ( a - a n:res )
    dup valid-class? ;
        
before one validate-class

crucial test: check-cycle-animation ( anim spd -- anim spd n:result )
    {: anim spd | anim-result :}
    anim valid-address? to anim-result 
    anim @ 0= if s" Invalid animation data" log-error 0 to anim-result then
    anim spd anim-result ;

before cycle check-cycle-animation

fast]