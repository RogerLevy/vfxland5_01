require-event event1

require laser.vfx
require scripts\bubble.vfx
require scripts\ship.vfx
\ require death.vfx
\ require subscreen.vfx
\ require savegame.vfx
\ require %idir%\..\supershow\ui\ui.vfx

\ Global commands

: *player ( - )
    ship one drop ;

: (reset) ( - )
    0 next# ! actives> you me = ?exit me unload ;

: reset ( - )
    (reset)
    50 gameh 2 / at *player
    500 energy ! ;

: retry ( - )
    blank blank blank
    1.0 to starfield-speed
    event1 ;

\ Gameplay main loop 
continuation: scale>  ( xt ) >r +m 0e 0e 2p>f 0e transform r> execute -m ;
: render  backdrop ( .75 .75 scale> ) starfield hud bubbles sprites beams animate ;
: think  step ;
: game  show> think render ;

\ Assign BOOT hook
: boot-darkblue  init-supershow shout" title" ;
' boot-darkblue is boot
