ec-cell pal

create vga13h
cell array{ 
$000000ff ,
$0000aaff ,
$00aa00ff ,
$00aaaaff ,
$aa0000ff ,
$aa00aaff ,
$aa5500ff ,
$aaaaaaff ,
$555555ff ,
$5555ffff ,
$55ff55ff ,
$55ffffff ,
$ff5555ff ,
$ff55ffff ,
$ffff55ff ,
$ffffffff ,
$000000ff ,
$101010ff ,
$202020ff ,
$353535ff ,
$454545ff ,
$555555ff ,
$656565ff ,
$757575ff ,
$8a8a8aff ,
$9a9a9aff ,
$aaaaaaff ,
$bababaff ,
$cacacaff ,
$dfdfdfff ,
$efefefff ,
$ffffffff ,
$0000ffff ,
$4100ffff ,
$8200ffff ,
$be00ffff ,
$ff00ffff ,
$ff00beff ,
$ff0082ff ,
$ff0041ff ,
$ff0000ff ,
$ff4100ff ,
$ff8200ff ,
$ffbe00ff ,
$ffff00ff ,
$beff00ff ,
$82ff00ff ,
$41ff00ff ,
$00ff00ff ,
$00ff41ff ,
$00ff82ff ,
$00ffbeff ,
$00ffffff ,
$00beffff ,
$0082ffff ,
$0041ffff ,
$8282ffff ,
$9e82ffff ,
$be82ffff ,
$df82ffff ,
$ff82ffff ,
$ff82dfff ,
$ff82beff ,
$ff829eff ,
$ff8282ff ,
$ff9e82ff ,
$ffbe82ff ,
$ffdf82ff ,
$ffff82ff ,
$dfff82ff ,
$beff82ff ,
$9eff82ff ,
$82ff82ff ,
$82ff9eff ,
$82ffbeff ,
$82ffdfff ,
$82ffffff ,
$82dfffff ,
$82beffff ,
$829effff ,
$babaffff ,
$cabaffff ,
$dfbaffff ,
$efbaffff ,
$ffbaffff ,
$ffbaefff ,
$ffbadfff ,
$ffbacaff ,
$ffbabaff ,
$ffcabaff ,
$ffdfbaff ,
$ffefbaff ,
$ffffbaff ,
$efffbaff ,
$dfffbaff ,
$caffbaff ,
$baffbaff ,
$baffcaff ,
$baffdfff ,
$baffefff ,
$baffffff ,
$baefffff ,
$badfffff ,
$bacaffff ,
$000071ff ,
$1c0071ff ,
$390071ff ,
$550071ff ,
$710071ff ,
$710055ff ,
$710039ff ,
$71001cff ,
$710000ff ,
$711c00ff ,
$713900ff ,
$715500ff ,
$717100ff ,
$557100ff ,
$397100ff ,
$1c7100ff ,
$007100ff ,
$00711cff ,
$007139ff ,
$007155ff ,
$007171ff ,
$005571ff ,
$003971ff ,
$001c71ff ,
$393971ff ,
$453971ff ,
$553971ff ,
$613971ff ,
$713971ff ,
$713961ff ,
$713955ff ,
$713945ff ,
$713939ff ,
$714539ff ,
$715539ff ,
$716139ff ,
$717139ff ,
$617139ff ,
$557139ff ,
$457139ff ,
$397139ff ,
$397145ff ,
$397155ff ,
$397161ff ,
$397171ff ,
$396171ff ,
$395571ff ,
$394571ff ,
$515171ff ,
$595171ff ,
$615171ff ,
$695171ff ,
$715171ff ,
$715169ff ,
$715161ff ,
$715159ff ,
$715151ff ,
$715951ff ,
$716151ff ,
$716951ff ,
$717151ff ,
$697151ff ,
$617151ff ,
$597151ff ,
$517151ff ,
$517159ff ,
$517161ff ,
$517169ff ,
$517171ff ,
$516971ff ,
$516171ff ,
$515971ff ,
$000041ff ,
$100041ff ,
$200041ff ,
$310041ff ,
$410041ff ,
$410031ff ,
$410020ff ,
$410010ff ,
$410000ff ,
$411000ff ,
$412000ff ,
$413100ff ,
$414100ff ,
$314100ff ,
$204100ff ,
$104100ff ,
$004100ff ,
$004110ff ,
$004120ff ,
$004131ff ,
$004141ff ,
$003141ff ,
$002041ff ,
$001041ff ,
$202041ff ,
$282041ff ,
$312041ff ,
$392041ff ,
$412041ff ,
$412039ff ,
$412031ff ,
$412028ff ,
$412020ff ,
$412820ff ,
$413120ff ,
$413920ff ,
$414120ff ,
$394120ff ,
$314120ff ,
$284120ff ,
$204120ff ,
$204128ff ,
$204131ff ,
$204139ff ,
$204141ff ,
$203941ff ,
$203141ff ,
$202841ff ,
$2d2d41ff ,
$312d41ff ,
$352d41ff ,
$3d2d41ff ,
$412d41ff ,
$412d3dff ,
$412d35ff ,
$412d31ff ,
$412d2dff ,
$41312dff ,
$41352dff ,
$413d2dff ,
$41412dff ,
$3d412dff ,
$35412dff ,
$31412dff ,
$2d412dff ,
$2d4131ff ,
$2d4135ff ,
$2d413dff ,
$2d4141ff ,
$2d3d41ff ,
$2d3541ff ,
$2d3141ff ,
$000000ff ,
$000000ff ,
$000000ff ,
$000000ff ,
$000000ff ,
$000000ff ,
$000000ff ,
$000000ff ,
array}

vga13h pal!

: color ( n - )
    \ Indexed color selection
    255 and cells pal@ nth @ rgba ;

\ VGA Font
|| 0 value vga-8x8      \ allegro font handle
|| create vga.png  
|| here s" %idir%\assets\gfx\vga2_8x8_allegro5.png" file,
|| here swap - constant /vga.png
|| create char-range 0 , 255 ,

: init-vga-font
    vga.png /vga.png 0 z" r" al_open_memfile >r
    r@ 0 al_load_bitmap_f
    r> al_fclose drop
    1` char-range` al_grab_font_from_bitmap
    to vga-8x8 
    vga-8x8 fnt! ;

