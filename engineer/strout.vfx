|| 4 constant #buffers
|| 32768 constant /buffer
|| #buffers /buffer array buffers 
|| variable buffer-index

|| : str ( - a )
    buffer-index @ buffers [] ;

|| : buf+ ( - )
    buffer-index @ 1 + #buffers umod buffer-index !
    s" " str wplace ;

|| : buf- ( - )
    buffer-index @ 1 - #buffers umod buffer-index ! ;

|| variable cbuf
|| : Emit-string  drop  cbuf c!  cbuf 1 str wappend ;
|| : Type-string  drop  bounds ?do  i c@ 0 emit-string  loop ;
|| : CR-string    drop  10 0 emit-string ;
|| create string-vectors
  ' drop ,
  ' drop ,
  ' drop ,
  ' drop ,
  ' drop ,
  ' drop ,
  ' drop ,
  ' drop ,
  ' drop ,
  ' Emit-string ,
  ' drop ,
  ' Type-string ,
  ' CR-string ,
  ' drop ,
  ' drop ,
  ' drop ,
  ' drop ,
  ' drop ,
  ' drop ,
  ' drop ,
  ' drop ,
  ' drop ,
  ' drop ,
  ' drop ,
  ' drop ,

|| 8 cell stack op-stack 
|| create strdev   0 , string-vectors ,

: z[  buf+  op-handle @ op-stack push  strdev op-handle ! ;
: z]  0 emit  str  op-stack pop op-handle !  buf- ;
: s[  z[ ;
: s]  z] wcount 1 - ;