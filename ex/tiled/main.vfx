\ ------------------------------------------------------------------------------ 
\ Tiled example - load a .tmj file
\ ------------------------------------------------------------------------------ 
 
\ Constants
\ 320 constant gamew
\ 240 constant gameh
16 constant gap
\ 1024 constant #actors

\ Load engine
include %vfxland5%/supershow/supershow.vfx

\ load game-specific modules (dependencies)
require %idir%/tiled-ex-tiled.vfx
require %idir%/obj/star/star.vfx

bitmap %idir%/assets/gfx/greyzebes.png

\ Ignore Tiled's tileset data and set up our own
greyzebes.png 16 16 tileset-from scifi.ts 

\ Create scene (tilemap + actor array) from .tmj file.
\ The tileset scifi.ts is automatically found and assigned to the tilemap.
s" %idir%/assets/mountainside.tmj" scene-from-tmj mountainside.scn

redef : main
    just mountainside.scn load   \ instantiate actors from the scene
    show> 
        0 0 at  mountainside.scn -> tm-main @ draw  
        sprites animate ;

\ Load tools and run tests
debug @ [if]
    main
[then]

